@{
    ViewBag.Title = "Inicio";
}

@using Arca.Shared.Models
@{
    var usuario = Session["UsuarioLogueado"] as Usuario;
    var logged = usuario != null;
    var rol = logged ? (usuario.Rol ?? "").Trim().ToLowerInvariant() : "";
}
<main>
    <h1 class="h1-Main"> Control de Inventario del "Arca del Día Cero"</h1>
    <h2 class="h2-Main"> Proyecto 2 - Paula Ulate Medrano</h2>
    <p class="p-Main"> Esta Aplicación Permite: Gestionar Semillas, Especies, Ubicaciones, Usuarios y Generar Reportes.</p>

    @if (ViewBag.Mensaje != null)
    {
        <div class="alert alert-danger">@ViewBag.Mensaje</div>
    }

    @if (usuario == null)
    {
        <div class="form-container">
            <h1>Inicio de Sesión</h1>
            @using (Html.BeginForm("Login", "Home", FormMethod.Post))
            {
                @Html.AntiForgeryToken()
                <div class="form-group">
                    <label for="userId">UserId</label>
                    <input type="text" name="userId" id="userId" class="form-control" required />
                </div>
                <div class="form-group">
                    <label for="contrasena">Contraseña</label>
                    <input type="password" name="contrasena" id="contrasena" class="form-control" required />
                    <div class="button-container">
                        <button type="submit" class="button">Ingresar</button>
                    </div>
                </div>
            }
        </div>
    }

    @if (logged)
    {
        <br />
        <p>Hola, <strong>@(usuario.Nombre ?? usuario.UserId)</strong></p>
        <p>Selecciona las Tareas que necesitas realizar, moviendote por el menú superior. </p>
    }

</main>
